<!DOCTYPE html>
<html>

<head>
    <title>命運之潮</title> <!-- 修改這裡的內容 -->
    <meta name="description" content="準備好迎接「命運之潮」的挑戰了嗎？你是否能在關鍵時刻做出正確的判斷，改變命運走向呢？">
    <allaudio>
        <audio id="sea" loop>
            <source src="https://drive.google.com/uc?export=download&id=1yEtjQJhgri43dU4Ghh9dube9jW86RN3_"
                type="audio/mpeg">
        </audio>
        <audio id="gameover" loop><!-- 場景13/27/31/34/39/65 -->
            <source src="https://drive.google.com/uc?export=download&id=1L8YBNP1WKLkL7tGM973Kk0TxSIO9525a"
                type="audio/mpeg">
        </audio>
        <audio id="sadtone" loop> <!-- 場景0/1/2/3 -->
            <source src="https://drive.google.com/uc?export=download&id=1_0KKYJeolLmzNWx6CT4mf-CSFa1cuI66"
                type="audio/mpeg">
        </audio>
        <audio id="drama" loop> <!-- 場景 -->
            <source src="https://drive.google.com/uc?export=download&id=1Sbw5LUnbTO5Xaihn7eyiVhum134ldEwY"
                type="audio/mpeg">
        </audio>
        <audio id="breakfast" loop> <!-- 場景 -->
            <source src="https://drive.google.com/uc?export=download&id=1gZ33lGoMx3Ha1jThE8FeSUT19SibMhof"
                type="audio/mpeg">
        </audio>
        <audio id="rain" loop> <!-- 場景1/2/3 -->
            <source src="https://drive.google.com/uc?export=download&id=13j5PPurZODysLa6nraQ3NEL1QhF5u2WY"
                type="audio/mpeg">
        </audio>
        <audio id="explode" loop> <!-- 場景25/26/27/28 -->
            <source src="https://drive.google.com/uc?export=download&id=1Hb_Zw12LaMewV-5VTfWb-K1i5ojABscK"
                type="audio/mpeg">
        </audio>
        <audio id="argue" loop> <!-- 場景29/30 -->
            <source src="https://drive.google.com/uc?export=download&id=1mnkTawvkRkpWMcNB8d9UA7VJQJRaorkr"
                type="audio/mpeg">
        </audio>
        <audio id="bbibbi" loop> <!-- 場景30/31 -->
            <source src="https://drive.google.com/uc?export=download&id=1mnkTawvkRkpWMcNB8d9UA7VJQJRaorkr"
                type="audio/mpeg">
        </audio>
        <audio id="helicopter" loop> <!-- 場景22/38 -->
            <source src="https://drive.google.com/uc?export=download&id=1-nXfNl9_AQJNA928K8n1Is6gPUNPKswa"
                type="audio/mpeg">
        </audio>
        <audio id="happy" loop> <!-- 場景 -->
            <source src="https://drive.google.com/uc?export=download&id=17nU9UEPa7VOSmN8D1pRNJV9RyA3m3oaP"
                type="audio/mpeg">
        </audio>
        <audio id="talk" loop> <!-- 場景 -->
            <source src="https://drive.google.com/uc?export=download&id=1-vhtvo5dt1CuhfLcsiknWRIlOMP4BkoV"
                type="audio/mpeg">
        </audio>
        <audio id="ambience" loop> <!-- 場景 -->
            <source src="https://drive.google.com/uc?export=download&id=1ZVnP_zKl7tYFtDQ8u9KVoEBMbN8s3S2E"
                type="audio/mpeg">
        </audio>
        <audio id="s1" loop> <!-- 手機撥號聲 -->
            <source src="https://drive.google.com/uc?export=download&id=1hIhnFQCK0cmL6ve5GcPLuQIE3ijgJec6"
                type="audio/mpeg">
        </audio>
        <audio id="s4" loop> <!-- 懸疑音效 -->
            <source src="https://drive.google.com/uc?export=download&id=1oqeFD9l4i05sIuPOu4_qF9KJ-8AliMnn"
                type="audio/mpeg">
        </audio>
        <audio id="s5" loop> <!-- 聖光 -->
            <source src="https://drive.google.com/uc?export=download&id=1cnH--urN637M8bGhzsd6m0eiENCEXFd1"
                type="audio/mpeg">
        </audio>
        <audio id="s7" loop> <!-- 人群恐慌 -->
            <source src="https://drive.google.com/uc?export=download&id=11RLZoQg7i5SpqK8y7yoGdQcloS22HDUh"
                type="audio/mpeg">
        </audio>
        <audio id="s10" loop> <!-- 警報聲 -->
            <source src="https://drive.google.com/uc?export=download&id=1VRqr7m0Xlbz0HFXH5gxwKF70tND5uOGy"
                type="audio/mpeg">
        </audio>
        <audio id="s17" loop> <!-- 女 喘氣聲 -->
            <source src="https://drive.google.com/uc?export=download&id=1XM0wuk8vPSk12OsNYUnqQDJLHlE-hooW"
                type="audio/mpeg">
        </audio>
        <audio id="s20" loop> <!-- 警察辦案現場 -->
            <source src="https://drive.google.com/uc?export=download&id=1lS4Z3vo5EtgcQRWQGN_UsmhJNvxHdi0C"
                type="audio/mpeg">
        </audio>
        <audio id="s21" loop> <!-- 船鳴笛 -->
            <source src="https://drive.google.com/uc?export=download&id=1JRrWkwqVJ_E6G8myHeJLriI6xo7Buojj"
                type="audio/mpeg">
        </audio>
        <audio id="s25" loop> <!-- 核災手機警示 -->
            <source src="https://drive.google.com/uc?export=download&id=12llYu2GtOLDYfcCO4Y8ivrm-hQjS33AH"
                type="audio/mpeg">
        </audio>
        <audio id="s29" loop> <!-- 引擎聲 -->
            <source src="https://drive.google.com/uc?export=download&id=1W5Nrva7zXIPwTG9zhn5L09X2zkc_m9US"
                type="audio/mpeg">
        </audio>
        <audio id="s32" loop> <!-- 山崩聲 -->
            <source src="https://drive.google.com/uc?export=download&id=1gR_fTUyyIeMNUOIMs_vun3RNvgMDrF9s"
                type="audio/mpeg">
        </audio>
    </allaudio>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+HK:wght@500;700;900&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <style>
        body {
            /* 添加背景圖片 */
            background-image: url('https://media.discordapp.net/attachments/1086185318895603744/1136228657883521155/nancymuyi_A_beautiful_animated_picture_a_beach_where_many_peopl_26577eac-1515-47a9-8b25-6e5cb9d7d416.png?width=1729&height=970');
            /* 背景圖片填滿整個視窗 */
            background-size: cover;
            /* 背景圖片固定不滾動 */
            background-attachment: fixed;
            /* 遊戲內容置中 */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            position: relative;
            /* 定位相對於 body */
            font-family: 'Noto Sans HK', sans-serif;
            overflow: hidden;
            /* 隱藏影片的捲軸 */
            width: auto;
        }

        /* 正常的背景圖片樣式 */
        body.normal-background {
            background-image: url('YOUR_BACKGROUND_IMAGE_URL');
        }

        h1 {
            margin-bottom: 20px;
            /* 底部間距：20像素 */
            position: fixed;
            /* 絕對定位 */
            left: 140px;
            /* 距離左側距離：10% */
            top: 10px;
            /* 距離頂部距離：5% */
            transform: translateX(-40%);
            /* 水平居中 */
            height: 100vh;
            display: none;
        }

        /* 介紹樣式 */
        #intro {
            font-size: 16px;
            /* 字體大小：16像素 */
            max-width: 800px;
            /* 最大寬度：800像素 */
            text-align: center;
            /* 文本居中對齊 */
            border-radius: 10px;
            /* 圓角半徑：10像素 */
            background-size: 80% 100%;
            /* 背景圖片大小：寬度80%，高度100% */
            position: relative;
            /* 相對或絕對定位 */
            transform: translateX(-50%, -50%);
            /* 水平和垂直居中 */
            background-color: rgba(255, 255, 255, 0.6);
            /* 白色，透明度：0.2 */
            border: 3pt solid rgba(30, 44, 99, 0.6);
            /* 藍色的框線，粗3pt */
            border-radius: 10px;
            /* 圓角半徑：10像素 */
            padding: 30px;
            /* 內邊距：10像素頂部和底部，20像素左側和右側 */
            margin: 15px;
            /* 水平間距：10像素左側和右側 */
            cursor: pointer;
            /* 指針樣式：手形 */
            color: #232342;
            bottom: 0px;
            /* 距離底部的距離 */
        }

        /* 開始螢幕的樣式 */
        .start-screen,
        .start-screen1,
        .start-screen2 {
            display: flex;
            /* 使用 Flexbox 顯示內容 */
            flex-direction: column;
            /* Flex容器中的內容垂直排列 */
            align-items: center;
            /* 垂直居中對齊 */
            justify-content: center;
            /* 水平居中對齊 */
            text-align: center;
            color: rgba(#232342);
            margin-top: 100px;
            /* 移除預設的 margin */
            padding: 0px;
            /* 移除預設的 padding */
            width: auto;
            border-radius: 10px;
            text-align: center;
            bottom: 0px;
        }

        .start-screen,
        .start-screen1,
        .start-screen2 h1 {
            text-align: center;
        }

        /* 影片樣式 */
        #video-background,
        #s5video,
        #s7video,
        #s9video,
        #s10video,
        #s13video,
        #s15video,
        #s16video,
        #s17video,
        #s19video,
        #s22video,
        #s27video,
        #s35video,
        #s37video,
        #s41video,
        #s43video,
        #s58video,
        #s62video,
        #s67video {
            position: fixed;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -100;
            transform: translateX(-50%) translateY(-50%);
        }

        /* 故事文本框樣式 */
        #storyContainer {
            /* 故事容器的樣式 */
            position: relative;
            /* 水平居中對齊 */
            justify-content: baseline;
            /* 相對或絕對定位 */
            border: 3pt solid rgba(30, 44, 99, 0.6);
            /* 藍色的框線，粗3pt */
            padding: 10px 60px 10px 60px;
            /* 內邊距：10像素 */
            order: 2;
            margin: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            text-align: start;
            color: #232342;
            bottom: 5px;
            margin-top: 360px;
        }

        /* 選項按鍵樣式 */
        #optionBtn1,
        #optionBtn2 {
            /* 按鈕的樣式 */
            padding: 20px;
            /* 移除內邊距 */
            background-image: url('https://media.discordapp.net/attachments/1086185318895603744/1146141510996336760/-16.png?width=1504&height=326');
            /* 使用圖片作為背景 */
            background-size: cover;
            /* 背景圖片填滿按鈕 */
            background-repeat: no-repeat;
            /* 防止背景圖片重複 */
            background-color: transparent;
            width: 380px;
            /* 設定按鈕寬度 */
            height: 80px;
            cursor: pointer;
            /* 指針樣式：手形 */
            margin: 0 5px;
            /* 水平間距：5像素左側和右側 */
            border: none;
            /* 移除邊框 */
            color: white;
            font-size: 16px;

        }

        /* 分數相關按鍵樣式 */
        .action-btn-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .action-btn {
            background: none;
            border: none;
            padding: 20px;
            cursor: pointer;
            margin-top: 620px;
        }

        .action-btn img {
            max-width: 95%;
            width: auto;
            height: auto;
        }

        .button-container {
            /* 按鈕容器的樣式 */
            display: flex;
            /* 使用 Flexbox 顯示內容 */
            align-items: center;
            /* 垂直居中對齊 */
            justify-content: center;
            /* 水平居中對齊 */
            position: relative;
            /* 相對或絕對定位 */
            margin-top: 10px;
            bottom: 0px;
            /* 距離底部的距離 */
        }

        .button {
            position: fixed;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            cursor: pointer;
            background-color: transparent;
            border: 0;
            border-style: none;
        }

        #game-content {
            margin-top: 0px;
            /* 移除預設的 margin */
            bottom: 0;
            /* 距離底部的距離 */
        }

        /* 計時器外框樣式 */
        #timer-container {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        /* 計時器樣式 */
        #timer {
            text-align: center;
            margin-top: 10px;
            /* 按鈕的樣式 */
            padding: 12px 24px;
            /* 內邊距：12像素頂部和底部，24像素左側和右側 */
            font-size: 18px;
            /* 字體大小：18像素 */
            background-color: red;
            /* 背景顏色：午夜 */
            color: white;
            /* 文字顏色：白色 */
            border: none;
            /* 移除邊框 */
            border-radius: 5px;
            /* 圓角半徑：5像素 */
            cursor: pointer;
            /* 指針樣式：手形 */
            margin: 0 10px;
            /* 水平間距：10像素左側和右側 */
            width: 150px;
        }

        #hintBtn {
            text-align: center;
            margin-top: 10px;
            /* 按鈕的樣式 */
            padding: 12px 24px;
            /* 內邊距：12像素頂部和底部，24像素左側和右側 */
            font-size: 18px;
            /* 字體大小：18像素 */
            background-color: #192f66;
            /* 背景顏色：午夜 */
            color: white;
            /* 文字顏色：白色 */
            border: none;
            /* 移除邊框 */
            border-radius: 5px;
            /* 圓角半徑：5像素 */
            cursor: pointer;
            /* 指針樣式：手形 */
            margin: 0 10px;
            /* 水平間距：10像素左側和右側 */
            width: 150px;
        }

        #hintCounter {
            /* 提示次數的樣式 */
            position: absolute;
            top: 10px;
            font-size: 18px;
            color: #192f66;
        }
    </style>
</head>

<body>
    <def>
        <div class="start-screen">
            <video autoplay loop muted id="video-background">
                <source src="https://drive.google.com/uc?export=download&id=1sDW_XSGvPLJoHnvNytwScWyyNjv6OIEH"
                    type="video/mp4">
            </video>
            <img src="https://media.discordapp.net/attachments/1086185318895603744/1139142350648651837/-02.png"
                alt="Title Image" style="width: 85%; padding: 0 0 60px 0px; position: inherit;">
            <p id="intro">讓風帶走傷痛....一場跨越維度充滿情感的旅程，在循環的迭代中，一同探索故事的深度，體驗生命的無常.....</p>
            <!-- 開始遊戲 鍵 -->
            <div id="startBtn" class="button">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563552368218222/-15.png"
                    alt="nextBtn Icon" style="width: 80%;">
            </div>
        </div>
        <div class="start-screen1" style="display: none;">
            <video autoplay loop muted id="video-background">
                <source src="https://drive.google.com/uc?export=download&id=1sDW_XSGvPLJoHnvNytwScWyyNjv6OIEH"
                    type="video/mp4">
            </video>
            <img src="https://media.discordapp.net/attachments/1086185318895603744/1139142350648651837/-02.png"
                alt="Title Image" style="width: 80%; padding: 0 0 70px 0px; position: inherit;">
            <p id="intro">讓風帶走傷痛....一場跨越維度充滿情感的旅程，在循環的迭代中，一同探索故事的深度，體驗生命的無常.....</p>
            <!-- 開始遊戲1 鍵 -->
            <div id="startBtn1" class="button">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563552368218222/-15.png"
                    alt="nextBtn Icon" style="width: 80%;">
            </div>
        </div>
        <div class="start-screen2" style="display: none;">
            <video autoplay loop muted id="video-background">
                <source src="https://drive.google.com/uc?export=download&id=1sDW_XSGvPLJoHnvNytwScWyyNjv6OIEH"
                    type="video/mp4">
            </video>
            <img src="https://media.discordapp.net/attachments/1086185318895603744/1139142350648651837/-02.png"
                alt="Title Image" style="width: 80%; padding: 0 0 70px 0px; position: inherit;">
            <p id="intro">讓風帶走傷痛....一場跨越維度充滿情感的旅程，在循環的迭代中，一同探索故事的深度，體驗生命的無常.....</p>
            <!-- 開始遊戲2 鍵 -->
            <div id="startBtn2" class="button">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563552368218222/-15.png"
                    alt="nextBtn Icon" style="width: 80%;">
            </div>
        </div>
        <!-- 左上角命運之潮 -->
        <h1><img src="https://media.discordapp.net/attachments/1086185318895603744/1139142350648651837/-02.png"
                alt="Title Image" style="width: 50%;padding: 0 0 0 180px;"></h1>
        <!-- 計時器容器 -->
        <div id="timer-container" style="display: flex; align-items: center; justify-content: flex-end;">
            <!-- 提示按鈕 -->
            <button id="hintBtn" style="display: none;"></button>
            <!-- 計時器 -->
            <p id="timer" style="display: none; margin-right: 10px;">剩餘時間：10秒</p>
        </div>
        <!-- 遊戲內容 -->
        <div class="game-content" style="display: none; width: 800px;">
            <!-- 故事容器 -->
            <div id="storyContainer">
                <!-- 故事文本 -->
                <p id="story"></p>
            </div>
            <!-- HOME 鍵 -->
            <div id="homeBtn" style="display: none; position: fixed; bottom: 20px; right: 20px; cursor: pointer;">
                <img src="https://media.discordapp.net/attachments/1086185318895603744/1140291223391838258/-12.png?width=80&height=81"
                    alt="Home Icon" style="width: 80px; height: 80px;">
            </div>
            <!-- home鍵-skip -->
            <div id="skipBtn" style="display: none; position: fixed; bottom: 20px; right: 20px; cursor: pointer;">
                <img src="https://media.discordapp.net/attachments/1086185318895603744/1140291223391838258/-12.png?width=80&height=81"
                    alt="Skip Icon" style="width: 80px; height: 80px;">
            </div>
            <!-- home鍵-skip2 -->
            <div id="skipBtn2" style="display: none; position: fixed; bottom: 20px; right: 20px; cursor: pointer;">
                <img src="https://media.discordapp.net/attachments/1086185318895603744/1140291223391838258/-12.png?width=80&height=81"
                    alt="Skip2 Icon" style="width: 80px; height: 80px;">
            </div>
            <!-- 下一頁 鍵 -->
            <button id="nextBtn" class="button">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563553148354570/-13.png"
                    alt="nextBtn Icon" style="width: 80%;">
            </button>
            <!-- 解鎖新角色 鍵 -->
            <button id="unlockBtn" class="button">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563553509056562/-14.png"
                    alt="unlockBtn Icon" style="width: 80%;">
            </button>
        </div>
        <!-- 按鈕容器 -->
        <div class="button-container">
            <!-- 選項1、選項2 -->
            <button id="optionBtn1" style="display: none;"></button>
            <button id="optionBtn2" style="display: none;"></button>
        </div>
        <!-- 分數測驗按鍵容器 -->
        <div class="action-btn-container">
            <button id="saveImageBtn" class="action-btn" style="display: none;">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563552087187486/-06.png"
                    alt="Save Image">
            </button>
            <button id="openSurveyBtn" class="action-btn" style="display: none;">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144563552875728956/-07.png"
                    alt="Open Survey">
            </button>
            <button id="openSurveyBtn1" class="action-btn" style="display: none;">
                <img src="https://media.discordapp.net/attachments/1086217785794899998/1144863499416256613/-16.png?width=497&height=129"
                    alt="Open Survey1">
            </button>
        </div>
        <scenevideo>
            <video autoplay loop muted id="s5video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1KHKc3ye-Rigul_ZWBqm_EEaqpuXTzNFx"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s7video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1V13m6nq781NSRw8KDeq68R0MCtWASpMg"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s9video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1l2CX-JWMW3MJlPGlaKDcrEJ06AdhkkIz"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s10video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1ZdquDGigWDh5MRZNu-PIdn-tzi9tNbAv"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s13video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=18zCxkxEFuQwnJQF-LVJC8Acq6qr829X4"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s15video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1bnqCSM0jwIxmWPIrefmhZi0YuIAVkE7E"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s16video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1ngQxIGuhma071TpYLqjsp3ov1GdtZRe0"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s17video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=15MNoJ6sr8ZJl7B9l1w0uUrHyucJ5UyAZ"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s19video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1OGJ6EbVRI__EPkzKJRFD486e-xEHfhqS"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s22video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1BqGN2DuHWMO2sHU3oaT-WOVxsEqyqKyv"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s27video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1V5h4OLKeTkSGa6Uw-XOn_TruB4cJpbHS"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s35video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1DpaKgV-7oguMT6LvouQwHnBt5hOsS14Z"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s37video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1FfZ0_K5hrirQsm_bvb9540vvNweEiHiR"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s41video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1A4UOQy8bmEzsM-zSbD5IIczkM1g4mJk1"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s43video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1UfxMqvzDmyaMHfdFXDrxlJ-inVed6nNh"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s58video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1SjjLFbu8nEWxLG6YPm7xrLKXC5h6y5HG"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s62video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1cR45sditnPRK0TnO53OKdF91Ydt_UNF0"
                    type="video/mp4">
            </video>
            <video autoplay loop muted id="s67video" style="display: none;">
                <source src="https://drive.google.com/uc?export=download&id=1MXVfVexbQuxbViGvCNxfggtKalrha1O7"
                    type="video/mp4">
            </video>
        </scenevideo>
    </def>
    <script>
        // 遊戲場景
        const scenes = [
            // 場景0 1-1（開始）
            {
                story: "乘載著數以萬計的思念...一通通沒有回音的電話，支撐著倖存者繼續走下去。",
                hasOptions: false,
                nextScene: 1
            },
            // 場景1 1-2                
            {
                story: "在微涼的秋日，大衣將我的身軀嚴實包裹著，我慢慢地走進了電話亭，給逝去的妻子撥打電話。",
                hasOptions: false,
                nextScene: 2
            },

            // 場景2 1-3
            {
                story: "已數不清過了多少年，我清了清沙啞的喉嚨 小心地說了一聲 「 親愛的，是你嗎？」",
                hasOptions: false,
                nextScene: 3
            },
            // 場景3 1-4
            {
                story: "「對不起...我沒能夠救你」話音剛落，淚水從我的臉龐滑落，胸口的酸楚疼痛，幾乎快要窒息...",
                hasOptions: false,
                nextScene: 4
            },
            // 場景4 1-5
            {
                story: "電話亭彷彿隔絕了世界，讓我能夠盡情地訴說著對已故妻子的思念...",
                hasOptions: false,
                nextScene: 5
            },
            // 場景5 1-6
            {
                story: "「咦...」突然一束光從天際降落，我趕緊用手臂遮掩強光帶來的刺激，明亮籠罩著「時空電話亭」。",
                hasOptions: false,
                nextScene: 6
            },
            // 場景6 1-7
            {
                story: "「這...是哪裡？為什麼我會跑來這裡...？」，突然穿越至萬里海水浴場的我，一臉疑惑，遠方看到小小的野柳女王頭。",
                hasOptions: false,
                nextScene: 7
            },
            // 場景7 1-8 選擇
            {
                story: "突然天搖地動，人群不斷的推擠，「啊！！！」我被推倒在地。",
                hasOptions: true,
                option1Text: "遠離人群踩踏，到空曠無障礙物處躲避",
                option1NextScene: 9,
                option2Text: "隨著疏散路線移動",
                option2NextScene: 8,
                hasHint: true, // 是否有提示
                hint: "安全監察部 :「請各位不要驚慌，隨者疏散人群一起走!」"
            },
            // 場景8 2a-1
            {
                story: "行經過程中，指示牌的引導路線似乎不太清楚，我慢慢地迷失了方向...",
                hasOptions: false,
                nextScene: 9
            },
            // 場景9 2b-1
            {
                story: "救難部門：危險！請照著疏散路線移動，並且盡可能避開海岸線！千萬不要推擠，我們已加派人員引導民眾，並加強路線顯示。",
                hasOptions: false,
                nextScene: 10
            },
            // 場景10 3-1
            {
                story: "海嘯警報聲突然響起，錯愕不已的我環顧周圍，意識到更大的危險即將發生...",
                hasOptions: false,
                nextScene: 11
            },
            // 場景11 3b-1 選擇
            {
                story: "突然...我在海岸邊看到了她，是我那年輕的妻子。但緊跟著的海水下一秒就會向我們洶湧而來...",
                hasOptions: true,
                option1Text: "我會游泳，就讓海水的衝力帶我移動吧。",
                option1NextScene: 12,
                option2Text: "抓住堅固物體，盡可能保護住頭部。",
                option2NextScene: 14,
                hasHint: true, // 是否有提示
                hint: "消防人員 :「危險!!!趕緊抓住周圍物體!別讓自己被海浪捲走!!!」"
            },
            // 場景12 3b-1a-1
            {
                story: "危險！海嘯發生時，因周遭環境有不可預測的尖刺物體，隨著水流移動恐有刺傷或碰撞傷的風險。",
                hasOptions: false,
                nextScene: 13
            },
            // 場景13 3b-1a-2(x)
            {
                story: "【遊戲結束】海嘯警報響起時，需盡快離開海邊，並尋找高處，例如附近的山丘、高樓或指定的疏散區域。遠離海岸線越遠越好，至少要達到避免海嘯侵襲的高度。",
                hasOptions: false,
                nextScene: 47
            },
            // 場景14 3b-1b-1
            {
                story: "海水慢慢退去，我拖著疲憊的身軀，奮力爬到高處，繼續尋找著妻子，終於，我在頂樓看到了年輕的她，剎那間，種種回憶湧上心頭...",
                hasOptions: false,
                nextScene: 16
            },
            // 場景15 3a-1
            {
                story: "千鈞一法之際，我爬到了高處的福泰翡翠灣渡假飯店，轉頭一看，海水無情地吞噬著地面，我只能眼睜睜地看著數十條生命就這樣被海水沖走，地面傳來無助的哀嚎聲，電線桿也被強力的海嘯沖倒。",
                hasOptions: false,
                nextScene: 16
            },
            // 場景16 4-1
            {
                story: "我看著妻子，她依然是那麼的美...等等，她的膝蓋受了傷！",
                hasOptions: true,
                option1Text: "真的是你嗎？不顧一切地走向前擁抱妻子。",
                option1NextScene: 17,
                option2Text: "傷口要緊，我得忍住內心的激動情緒，先去尋找飯店有無救援物資，幫助她消毒。",
                option2NextScene: 20,
                hasHint: true, // 是否有提示
                hint: "心中一個聲音響起，就跟隨自己的內心吧....."
            },
            // 場景17 4-1b-1
            {
                story: "她嚇了一跳，用力地推開我，「你想幹嘛？！你是什麼人？」，她似乎認不得我，「不好意思，我認錯人了，你長得很像我太太」。",
                hasOptions: false,
                nextScene: 18
            },
            // 場景18 4-1b-2
            {
                story: "「你還好嗎？」，我焦急地詢問她，她的眼神也從憤怒轉為疑惑，看起來傷口的疼痛讓她有些無助，「不太好...我的膝蓋在逃跑時撞傷了。」「別擔心！再等等，救援人員就會來了！」",
                hasOptions: false,
                nextScene: 19
            },
            // 場景19 4-1b-3
            {
                story: "救難人員從遠處開著小船駛來，但受傷人數太多，無法在第一時間幫助我們。",
                hasOptions: true,
                option1Text: "大聲救吶喊和揮舞，希望能夠被注意到，搶先處理。",
                option1NextScene: 20,
                option2Text: "通報工作人員情況，耐心等待救援。",
                option2NextScene: 21,
                hasHint: true, // 是否有提示
                hint: "救難人員 :「我們正在全力搶救，請大家耐心等待，不要驚慌!!」"
            },
            // 場景20 4-1
            {
                story: "工作人員：「我們已透過無線電報告現場狀況，請大家安心等待通報，我們會儘快處理！」",
                hasOptions: false,
                nextScene: 21
            },
            // 場景21 5-1
            {
                story: "救難人員一邊向氣象單位確認天氣條件，一邊用船隻將我們載往緊急救災所。",
                hasOptions: false,
                nextScene: 22
            },
            // 場景22 5-2
            {
                story: "我們被載往萬里國中接受治療，現場環境相當艱辛，我看到很多傷勢嚴重的患者，還好有救難單位預先準備的急救包，讓傷患能儘快接受包紮及傷口處理。",
                hasOptions: false,
                nextScene: 23
            },
            // 場景23 5-3
            {
                story: "志工團隊也及時帶來物資，包含毛毯以及食物，我排隊拿了一些物資，讓妻子能夠即時保持溫暖和充飢。",
                hasOptions: false,
                nextScene: 24
            },
            // 場景24 5-4
            {
                story: "啊！突然電力瞬間關閉！救難所發生了二次餘震！廣播：因二次餘震導致電力丟失，請大家不要慌張，海水浴場監察部門正在導入提前預備的緊急電力，電力將在十分鐘後恢復。",
                hasOptions: true,
                option1Text: "妻子看起來很緊張，我趕緊安撫她，「別擔心! 我一定會帶你離開！」她充滿感激地看著我。",
                option1NextScene: 25,
                option2Text: "先平靜下來，等電力恢復後再移動。",
                option2NextScene: 28,
                hasHint: true, // 是否有提示
                hint: "修繕部人員 :「請各位一定要冷靜，環境充滿危險，千萬不要隨意移動，電力即將恢復!!」"
            },
            // 場景25 5-4a-1
            {
                story: "突然手機發出緊急疏散警報，「因第二次餘震，導致核能發電廠爆炸，請盡快疏散! 」，大家開始慌亂地擠在逃生出口想逃跑。",
                hasOptions: true,
                option1Text: "沒時間了，我們得趕快摸黑逃出去!",
                option1NextScene: 26,
                option2Text: "選擇遠離通道，等待疏散人員的指示一同撤離。",
                option2NextScene: 32,
                hasHint: true, // 是否有提示
                hint: "消防人員 :「我們正在規劃後續的逃生路線，請各位先在原地等候!」"
            },
            // 場景26 5-4a-2
            {
                story: "我帶著妻子，在摸黑的狀態下疏散，救難單位趕緊安撫群眾及指引方向，但因現場實在太過慌亂，在人潮的推擠下，我與妻子不慎跌倒，承受著無數的踩踏，我們逐漸死去。",
                hasOptions: false,
                nextScene: 27
            },
            // 場景27 5-4a-3(x)
            {
                story: "【遊戲結束】在人潮眾多又黑暗的情況下應該保持冷靜，視現場情況移動，以疏散人員指示為優先，切勿擠向人潮而導致窒息或踩踏死亡。",
                hasOptions: false,
                nextScene: 48
            },
            // 場景28 5-4b-1
            {
                story: "救難所突然發布警報，「因第二次餘震，核電廠有爆炸危險，請大家盡快疏散! 」聽到警報，我急著趕快帶著妻子逃離。",
                hasOptions: true,
                option1Text: "自行去尋找交通工具，離開輻射範圍越遠越好。",
                option1NextScene: 29,
                option2Text: "跟隨著救難人員疏散，搭乘巴士到遠離核電站的避難所。",
                option2NextScene: 32,
                hasHint: true, // 是否有提示
                hint: "消防人員 :「我們備有多台救難巴士，大家都能夠一起撤離，請不要爭搶著!!」"
            },
            // 場景29 6-1
            {
                story: "我們趕緊擠進巴士想一同離開，但就在決定撤離的方向時，群眾發生了激烈的爭吵。",
                hasOptions: false,
                nextScene: 30
            },
            // 場景30 6-2
            {
                story: "手機傳來輻射外洩通知!「3公里內的旅客需緊急疏散，3-8公里內需聽從電台資訊，並緊急疏散，8-16公里外需躲在家中關閉門窗！」",
                hasOptions: false,
                nextScene: 31
            },
            // 場景31 6-3(x)
            {
                story: "【遊戲結束】主角離核電廠低於8公里以下，應把握逃跑的黃金時間，隨時關注即時訊息到鋼筋水泥屋做躲避，盡可能隔絕核輻射。",
                hasOptions: false,
                nextScene: 49
            },
            // 場景32 7-1
            {
                story: "路途中，救援巴士突然緊急煞車，原來是前方道路因地震而導致大面積的龜裂...。",
                hasOptions: true,
                option1Text: "繼續在車上等待救援。",
                option1NextScene: 33,
                option2Text: "下車另尋辦法。",
                option2NextScene: 35,
                hasHint: true, // 是否有提示
                hint: "消防人員 :「時間有限!!剩下5分鐘了!!!請各位盡快逃離!!!!」"
            },
            // 場景33 7-1b-1
            {
                story: "手機傳來輻射外洩通知，我們錯過了關鍵的逃難時間，身體逐漸受到核輻射的影響。",
                hasOptions: false,
                nextScene: 34
            },
            // 場景34 7-1b-2(x)
            {
                story: "【遊戲結束】當距離核能發電廠低於8公里時應盡快把握逃離時間，勿耽擱而導致急性輻射病，並依照即時消息決定是否就近於鋼筋水泥房屋避難。",
                hasOptions: false,
                nextScene: 49
            },
            // 場景35 7-1a-1
            {
                story: "突然發現...我們可以....。",
                hasOptions: true,
                option1Text: "透過攀爬跨越斷層地面。",
                option1NextScene: 36,
                option2Text: "穿越周邊小路。",
                option2NextScene: 40,
                hasHint: true, // 是否有提示
                hint: "消防人員 :「嘿!!!這邊!穿越右邊小路後有一條替代道路!」"
            },
            // 場景36 8-1
            {
                story: "在攀爬過程中，我不摔慎落，情急之下，救難人員情急下捉住妻子的腳，而妻子抓住了我的手，試圖拯救我。",
                hasOptions: false,
                nextScene: 37
            },
            // 場景37 8-2
            {
                story: "但我明白，救難人員無法支撐我們兩人的重量...此時，我的腦海中閃過和妻子的種種幸福回憶，我含著淚對妻子說，「親愛的，這次，我一定會救活你...」說完，我掙脫了她的手。",
                hasOptions: false,
                nextScene: 38
            },
            // 場景38 8-3
            {
                story: "最終在救難人員的陪同下，妻子搭著直升機離開，但她的心中不斷的產生著疑問與愧疚...",
                hasOptions: false,
                nextScene: 39
            },
            // 場景39 8-4(x)
            {
                story: "【遊戲結束】地震後地裂坍方處地質脆弱，災難發生時應做出最小風險的選擇，若必須冒著危險逃生，也應觀察周圍做出適當的防護措施，例如：綁上安全繩索攀越。",
                hasOptions: false,
                nextScene: 50
            },
            // 場景40 9-1
            {
                story: "路途中，我們遇到了好心人，願意載我們一程搭前往新的避難所。",
                hasOptions: false,
                nextScene: 41
            },
            // 場景41 9-2
            {
                story: "終於，核輻射的警報解除了！我再也按耐不住內心的激動，我緊張地想與妻子坦白「呃...我...你還認得我嗎 ? 其實...其實我是你的...」",
                hasOptions: false,
                nextScene: 42
            },
            // 場景42 9-3
            {
                story: "突然，那陣閃光再次出現...",
                hasOptions: false,
                nextScene: 43
            },
            // 場景43 9-4
            {
                story: "我緩緩地睜開眼，我躺在床上，剛剛發生的一切如夢境般卻又再真實不過...嗯？這熟悉的家常味道是...",
                hasOptions: false,
                nextScene: 44
            },
            // 場景44 9-5
            {
                story: "我緊張地朝廚房走去，顫抖地握住門把...打開門...看到眼前的場景，我很想說些什麼，卻再也無法控制自己的情緒......",
                hasOptions: false,
                nextScene: 45
            },
            // 場景45 9-6(x)
            {
                story: "我的太太...回來了...",
                hasOptions: false,
                nextScene: 51
            },
            // 場景46 時間到
            {
                story: "時間到！遊戲結束！切記災難來臨時也會需在有限時間內做出正確的選擇喔！",
                hasOptions: false
            },
            // 場景47 分數20%
            {
                story: "",
                hasOptions: false
            },
            // 場景48 分數40%
            {
                story: "",
                hasOptions: false
            },
            // 場景49 分數60%
            {
                story: "",
                hasOptions: false
            },
            // 場景50 分數80%
            {
                story: "",
                hasOptions: false
            },
            // 場景51 分數100%
            {
                story: "",
                hasOptions: false,
                nextScene: 52
            },
            // 場景52 舊角色圖鑑跳出解鎖提示
            {
                story: "",
                hasOptions: false,
                nextScene: 53
            },
            // 場景53 解鎖新角色-消防員
            {
                story: "",
                hasOptions: false,
                nextScene: 54
            },
            // 場景54 
            {
                story: "每個夜晚，我都會不斷想起過去，我曾因為一個錯誤的選擇，造成了不可挽回的悲劇....",
                hasOptions: false,
                nextScene: 55
            },
            // 場景55 
            {
                story: "想著想著，我又不自覺走到了電話亭，拿起話筒...愧疚的淚水從我的雙眼滑落",
                hasOptions: false,
                nextScene: 56
            },
            // 場景56 
            {
                story: "我的腦中閃過許多破碎的畫面...「對不起...沒能把你救出來...」",
                hasOptions: false,
                nextScene: 57
            },
            // 場景57 
            {
                story: "突然一束強烈的光芒照亮了整個「時空電話亭」",
                hasOptions: false,
                nextScene: 58
            },
            // 場景58 
            {
                story: "「...我怎麼又回到了這？」,身穿完整消防裝備的我，看著一片慌亂的萬里海水浴場",
                hasOptions: false,
                nextScene: 59
            },
            // 場景59 
            {
                story: "「地震導致東側大樓傾斜不穩，三樓民眾都受困在了遊客中心...」海水浴場聯絡小組透過無線電,不斷告知著地震災情及詳細受災定位",
                hasOptions: true,
                option1Text: "我得盡快趕到東側大樓三樓！",
                option1NextScene: 60,
                option2Text: "我得先協助現場受傷民眾",
                option2NextScene: 62,
                hasHint: true, // 是否有提示
                hint: "「時間緊急，東側大樓即將倒塌，需盡快有人支援！」", // 提示內容
            },
            // 場景60 
            {
                story: "前進的過程中，我不斷的用無線電與救災應變小組告知狀況",
                hasOptions: false,
                nextScene: 61
            },
            // 場景61 
            {
                story: "突然一位男子跑過來，指著微微擦傷的膝蓋，要求我攙扶他逃難",
                hasOptions: true,
                option1Text: "帶領他到最近的救助站",
                option1NextScene: 62,
                option2Text: "先請一旁正在執行疏散的救難組員幫忙指引傷患",
                option2NextScene: 62,
                hasHint: true, // 是否有提示
                hint: "「應以民眾狀況評判出事件處理的優先緩急！」", // 提示內容
            },
            // 場景62 
            {
                story: "突然，東側發出巨大聲響，大樓瞬間倒塌",
                hasOptions: true,
                option1Text: "馬上奔跑前往現場",
                option1NextScene: 63,
                option2Text: "趕緊和緊急應變小組報告狀況",
                option2NextScene: 66,
                hasHint: true, // 是否有提示
                hint: "「每個事件都需冷靜判斷並隨時告知應變小組，以利做出適合的人員調度！」", // 提示內容
            },
            // 場景63 
            {
                story: "我趕到現場，發現一位小女孩被倒塌的雜物困住，由於害怕和疼痛，她不斷哭泣著",
                hasOptions: false,
                nextScene: 64
            },
            // 場景64 
            {
                story: "我立刻拿起無線電請求支援，並且努力的搬離地上的雜物",
                hasOptions: false,
                nextScene: 65
            },
            // 場景65 (X)
            {
                story: "【遊戲結束】災害發生時，消防隊員需盡快評估災情，同時應立即與上級機構或相關單位聯繫，並請求額外的支援。這將有助於確保足夠的人力、資源和專業知識來應對災害。",
                hasOptions: false,
                nextScene: 72
            },
            // 場景66
            {
                story: "我趕到現場，發現一位小女孩被倒塌的雜物困住，由於害怕和疼痛，她不斷哭泣著",
                hasOptions: false,
                nextScene: 67
            },
            // 場景67
            {
                story: "救援小組及時趕到，我們合力搬開雜物，醫療小組也立即進行了急救",
                hasOptions: false,
                nextScene: 68
            },
            // 場景68 (X)
            {
                story: "小女孩緩緩地睜開眼睛，微笑著說 : 「謝謝你們救了我。」",
                hasOptions: false,
                nextScene: 69
            },
            // 場景69 分數100%
            {
                story: "",
                hasOptions: false
            },
            // 場景70 故事大綱
            {
                story: "",
                hasOptions: false,
                nextScene: 71
            },
            // 場景71 遊戲操作說明
            {
                story: "",
                hasOptions: false,
                nextScene: 0
            },
        ];
        // 遊戲圖片URL數組
        const backgroundURLs = [
            'https://media.discordapp.net/attachments/1086185318895603744/1135879685377630208/nancymuyi_A_beautiful_animated_picture_of_a_beam_of_sunlight_sh_b90b0592-0400-44e7-abb1-16fc84d4b9dc.png?width=1763&height=988', //場景0
            'https://media.discordapp.net/attachments/1086217785794899998/1140923511020453899/1-1.jpg?width=992&height=556', //場景1
            'https://media.discordapp.net/attachments/1086217785794899998/1140938891734552696/2-1.jpg?width=1058&height=593', //場景2
            'https://media.discordapp.net/attachments/1086185318895603744/1140938004312105000/nancymuyi_A_beautiful_animated_picture_The_old_man_is_in_the_re_3ac3a2e9-26d2-42a8-b76c-ca0b2f0e6e6e.png?width=913&height=512', //場景3
            'https://media.discordapp.net/attachments/1086185318895603744/1139894016977145936/nancymuyi_A_beautiful_animated_picture_of_an_old_man_covering_h_fbe174c3-02bc-49ca-86c2-fa9f1a6f484f.png?width=1763&height=988', //場景4
            'https://media.discordapp.net/attachments/1086217785794899998/1140939290067603456/5-1.jpg?width=1058&height=593', //場景5
            'https://media.discordapp.net/attachments/1086185318895603744/1139896599384969246/nancymuyi_A_beautiful_animated_picture_6fd752f3-4b6e-4ecf-8ddb-84b675521308.png?width=1763&height=988', //場景6
            'https://media.discordapp.net/attachments/1086185318895603744/1140279923488075796/7.png?width=1226&height=688', //場景7
            'https://media.discordapp.net/attachments/1086185318895603744/1140920104595501146/nancymuyi_A_beautiful_animation_picture_At_the_beach_the_crowd__dd35a056-78a7-4f2c-b0a1-59fb4b0ab17f.png?width=863&height=484', //場景8
            'https://media.discordapp.net/attachments/1086185318895603744/1140178968650190898/nancymuyi_A_beautiful_animated_picture_beach_personnel_are_guid_b4ad227d-d196-4010-9bc5-417747e0e878.png?width=1762&height=988', //場景9
            'https://media.discordapp.net/attachments/1086185318895603744/1139076432623059006/nancymuyi_A_beautiful_animation_picture_The_old_man_fled_to_the_48858444-0df7-41e5-bc0c-19e82dec9f1d.png?width=1762&height=988', //場景10
            'https://media.discordapp.net/attachments/1086185318895603744/1140280448845611039/11.png?width=1090&height=610', //場景11
            'https://media.discordapp.net/attachments/1086185318895603744/1136586046482690089/nancymuyi_When_the_tsunami_hit_the_old_man_escaped_from_the_bea_b70655b5-41cc-4300-a2c5-8947565e3ddb.png?width=1762&height=988', //場景12
            'https://media.discordapp.net/attachments/1086185318895603744/1140198670332076083/nancymuyi_When_the_tsunami_hit_the_old_man_escaped_from_the_bea_bb295170-4a6e-4005-8863-7bc8ea98cd67.png?width=1762&height=988', //場景13
            'https://media.discordapp.net/attachments/1086185318895603744/1140197091474411520/nancymuyi_A_beautiful_animated_picture_Elderly_man_with_badly_i_18482c62-5812-4b03-a106-2b3082410cf8.png?width=1762&height=988', //場景14
            'https://media.discordapp.net/attachments/1086185318895603744/1140202872949186641/nancymuyi_A_beautiful_animated_picture_Chaos_as_tsunami_hits_ma_188a8af4-a997-4352-837c-777e6a394260.png?width=1762&height=988', //場景15
            'https://media.discordapp.net/attachments/1086185318895603744/1140221940628475914/nancymuyi_A_beautiful_animated_picture_Young_woman_wearing_T-sh_c38fef4e-5a7a-49fe-a5a4-e691bfbc3d9a.png?width=1762&height=988', //場景16
            'https://media.discordapp.net/attachments/1086185318895603744/1140221659756900362/nancymuyi_Young_woman_sitting_on_the_ground_with_a_frightened_e_01ba972e-6b32-47e2-8aad-975206582d31.png?width=1762&height=988', //場景17
            'https://media.discordapp.net/attachments/1086185318895603744/1140221451056709682/nancymuyi_After_tsunami_young_woman_sits_on_the_ground_and_turn_12eae58e-2d71-47a8-8545-2f49ec510cd3.png?width=1762&height=988', //場景18
            'https://media.discordapp.net/attachments/1086185318895603744/1140228303987421205/nancymuyi_A_beautiful_animated_picture_After_the_tsunami_the_sc_b1ef1110-2189-4a07-b4bd-c45e1fa0de36.png?width=1762&height=988', //場景19
            'https://media.discordapp.net/attachments/1086185318895603744/1140952266988339210/nancymuyi_Realistic_animation_picture_Hotel_staff_terrified_on__7cd086bf-6d58-4126-9b61-13c8730f5ee7.png?width=1058&height=593', //場景20
            'https://media.discordapp.net/attachments/1086185318895603744/1140228279069069342/nancymuyi_A_beautiful_animated_picture_After_the_tsunami_the_sc_92dfcc7c-bedd-4688-8af7-47d8372845dd.png?width=1762&height=988', //場景21
            'https://media.discordapp.net/attachments/1086185318895603744/1140953711338856528/22-1.jpg?width=1055&height=593', //場景22
            'https://media.discordapp.net/attachments/1086185318895603744/1140233344026681394/nancymuyi_After_the_typhoon_the_rescue_unit_took_refuge_in_the__c1b97e24-0a29-4c10-99af-dfbd88565c96.png?width=1762&height=988', //場景23
            'https://media.discordapp.net/attachments/1086185318895603744/1140293606222086154/nancymuyi_A_beautiful_animated_picture_While_the_medical_staff__1accea35-2051-48be-8e61-aa9439cf3145.png?width=1594&height=893', //場景24
            'https://media.discordapp.net/attachments/1086185318895603744/1140298708135706694/nancymuyi_A_beautiful_animated_picture_Injured_people_flee_to_e_d1bdb447-8e21-4010-bfbc-fd7a7e07c063.png?width=1594&height=893', //場景25
            'https://media.discordapp.net/attachments/1086185318895603744/1140292289743294474/nancymuyi_A_beautiful_animated_picture_While_the_medical_staff__516fcb1a-5ed9-42b6-b66c-c8ada02fdd96.png?width=1594&height=893', //場景26
            'https://media.discordapp.net/attachments/1086185318895603744/1140314548482621440/nancymuyi_A_beautiful_animated_picture_Weak_young_woman_with_in_e30560d0-86b1-4882-b534-e6d6237669e8.png?width=1764&height=988', //場景27
            'https://media.discordapp.net/attachments/1086185318895603744/1140305440387895356/nancymuyi_A_beautiful_animated_picture_Elderly_man_looks_anxiou_cab6b4bd-c020-4492-9c5f-70f0f64c356c.png?width=1764&height=988', //場景28
            'https://media.discordapp.net/attachments/1086217785794899998/1141312983499296848/29.jpg?width=1763&height=988', //場景29
            'https://media.discordapp.net/attachments/1086217785794899998/1141313179973079070/30.jpg?width=1763&height=988', //場景30
            'https://media.discordapp.net/attachments/1086217785794899998/1141313262961578045/31.jpg?width=1763&height=988', //場景31
            'https://media.discordapp.net/attachments/1086217785794899998/1140954069763108935/32.jpg?width=1058&height=593', //場景32
            'https://media.discordapp.net/attachments/1086217785794899998/1140954153045196860/33.png?width=1058&height=593', //場景33
            'https://media.discordapp.net/attachments/1086217785794899998/1140954171940552776/34.png?width=1058&height=593', //場景34
            'https://media.discordapp.net/attachments/1086217785794899998/1140954176692703254/35.jpg?width=1058&height=593', //場景35
            'https://media.discordapp.net/attachments/1086217785794899998/1140954189460152330/36.jpg?width=1058&height=593', //場景36
            'https://media.discordapp.net/attachments/1086217785794899998/1140954197794234458/37.png?width=1058&height=593', //場景37
            'https://media.discordapp.net/attachments/1086217785794899998/1140954203271999539/38.png?width=1058&height=593', //場景38
            'https://media.discordapp.net/attachments/1086217785794899998/1140954230430113913/39.jpg?width=1058&height=593', //場景39
            'https://media.discordapp.net/attachments/1086217785794899998/1141366225042157598/40.jpg?width=1657&height=929', //場景40
            'https://media.discordapp.net/attachments/1086217785794899998/1140954238726459513/41.png_.png?width=1058&height=593', //場景41
            'https://media.discordapp.net/attachments/1086217785794899998/1140954270716403872/42.jpg?width=1058&height=593', //場景42
            'https://media.discordapp.net/attachments/1086217785794899998/1140954286856081449/43..png_.png?width=1058&height=593', //場景43
            'https://media.discordapp.net/attachments/1086217785794899998/1140954294787518514/44.png_.png?width=1058&height=593', //場景44
            'https://media.discordapp.net/attachments/1086217785794899998/1140954303146758275/45.png_.png?width=1058&height=593', //場景45
            'https://media.discordapp.net/attachments/1086185318895603744/1140646636347981916/nancymuyi_A_beautiful_animated_picture_Full_body_shot_of_old_ma_5a20b47e-3f69-4fed-87ab-01e308f531f6.png?width=1657&height=929', //場景46
            'https://media.discordapp.net/attachments/1086217785794899998/1145661705276379207/1_4.png?width=1488&height=833', //場景47 20%
            'https://media.discordapp.net/attachments/1086217785794899998/1145661704521400330/1_3.png?width=1488&height=833', //場景48 40%
            'https://media.discordapp.net/attachments/1086217785794899998/1145661704097759242/1_2.png?width=1488&height=833', //場景49 60%
            'https://media.discordapp.net/attachments/1086217785794899998/1145661706094248016/1_.png?width=1488&height=833', //場景50 80%
            'https://media.discordapp.net/attachments/1086217785794899998/1145661706916347934/1.png?width=1488&height=833', //場景51 100%
            'https://media.discordapp.net/attachments/1086217785794899998/1143948830774136922/1_5.png?width=1416&height=793', //場景52
            'https://media.discordapp.net/attachments/1086217785794899998/1143948831101304862/1_6.png?width=1416&height=793', //場景53  
            'https://cdn.discordapp.com/attachments/981904041976139816/1143182077165064192/shuuuzn_A_beautiful_photography_pictureIn_the_evening_a_middle-_4d0d83f8-15a5-4fe5-94b5-3a47adf9d801.png', //場景54
            'https://cdn.discordapp.com/attachments/981904041976139816/1143182211009478796/shuuuzn_A_beautiful_photography_pictureSad_middle_aged_man_call_efa87cba-283f-4f03-8bb8-1c32dc825486.png', //場景55
            'https://cdn.discordapp.com/attachments/981904041976139816/1144685917391568937/shuuuzn_A_beautiful_photography_picturelittle_girl_crying_on_da_3a25f085-cea4-4852-bdb3-ac68486b67ec.png', //場景56
            'https://cdn.discordapp.com/attachments/981904041976139816/1143184392336973894/shuuuzn_A_beautiful_photography_pictureA_beam_of_light_shines_o_c21b3366-1463-47c4-ad60-b1a10ef77485.png', //場景57
            'https://cdn.discordapp.com/attachments/981904041976139816/1143562111591645255/shuuuzn_A_beautiful_photography_pictureAt_the_beach_many_people_368f5abb-7fe7-458e-91ae-bb256cdb98f1.png', //場景58
            'https://cdn.discordapp.com/attachments/981904041976139816/1143562511694692414/shuuuzn_A_beautiful_photography_pictureAt_the_beach_a_firefight_4b0f0eaf-255d-489e-8d60-ed91deb66233.png', //場景59     
            'https://cdn.discordapp.com/attachments/981904041976139816/1143216551030444072/shuuuzn_A_beautiful_photography_pictureAt_the_beach_a_fireman_h_dc625946-5ea7-498b-8089-ced8345ac045.png', //場景60  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144694080035627038/61.png', //場景61  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144687551496597687/shuuuzn_A_beautiful_photography_pictureIn_the_beach_a_building__d3578fae-aca3-400f-9684-046436e4bca2.png', //場景62  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144713288723206176/63.66.png', //場景63  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144702966025166989/64.png', //場景64  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144703625160048771/shuuuzn_A_beautiful_photography_pictureLittle_girl_sleeps_in_a__3da009f0-69e0-4364-b31d-66cb0bdb57fc.png', //場景65  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144713288723206176/63.66.png', //場景66  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144703871806099596/shuuuzn_A_beautiful_photography_picturethere_are_a_lot_of_colla_9d1e3042-d0c0-4024-afbb-715112e8dda3.png', //場景67  
            'https://cdn.discordapp.com/attachments/981904041976139816/1144705824816635964/shuuuzn_A_beautiful_photography_pictureLittle_girl_trying_to_sl_0011c3a5-ba00-4ca3-8b31-92018e00b15f.png', //場景68 
            'https://media.discordapp.net/attachments/1085894250094407680/1143760531308687500/100.png?width=928&height=520', //場景69
            'https://media.discordapp.net/attachments/1086217785794899998/1146465262976122951/-01.png?width=1764&height=988', //場景70
            'https://media.discordapp.net/attachments/1086217785794899998/1146465264108576820/-02.png?width=1764&height=988', //場景71
            'https://media.discordapp.net/attachments/1086217785794899998/1145661704521400330/1_3.png?width=1488&height=833', //場景72 40%
        ];
        // 遊戲進行時的當前場景索引
        let currentScene = 70;
        // 提示計數元素
        let hintCount = 3;
        // 計時器ID元素
        let timerId;
        // 倒數計時器的秒數
        let countdownSeconds = 10;
        // 設置計時器顯示的元素
        const timerElement = document.getElementById('timer');
        // 啟動計時器
        function startTimer() {
            const gameContent = document.querySelector('.game-content');
            if (gameContent.style.display === "block") {
                timerId = setInterval(updateTimer, 1000);
            }
        }
        // 更新計時器
        function updateTimer() {
            countdownSeconds--;
            if (countdownSeconds >= 0) {
                timerElement.textContent = `剩餘時間：${countdownSeconds}秒`;
                // 每秒閃爍一次
                if (countdownSeconds % 2 === 0) {
                    timerElement.style.backgroundColor = 'red';
                } else {
                    timerElement.style.backgroundColor = '#1E2C63';
                }
            } else {
                clearInterval(timerId);
                handleTimeout();
                hintBtn.style.display = "none";
            }
        }
        // 處理倒數計時結束的情況
        function handleTimeout() {
            const scene = scenes[currentScene];
            if (scene.hasOptions) {
                // 如果是具有選項的場景，將遊戲導向場景46
                currentScene = 46;
            } else {
                // 如果是沒有選項的場景，將遊戲導向下一個場景（場景7的下一個場景）
                currentScene = scene.nextScene;
            }
            showScene();
        }
        // 重置計時器
        function resetTimer() {
            clearInterval(timerId);
            countdownSeconds = 10; // 重置倒數計時秒數為10秒
            timerElement.textContent = `剩餘時間：${countdownSeconds}秒`;
        }
        // 函式：保存圖片到本地相冊
        function saveImageToAlbum(imageUrl) {
            const link = document.createElement('a');
            link.href = imageUrl;
            link.download = '存活機率&反應速率.jpg'; // 下載的圖片名稱
            link.target = '_blank';

            // 將 <a> 元素插入到 DOM 中並進行點擊觸發下載
            document.body.appendChild(link);
            link.click();

            // 刪除插入的 <a> 元素
            document.body.removeChild(link);
        }
        // 聲音對應場景
        const sceneToSoundId = {
            0: ['sadtone'],
            1: ['s1', 'sadtone', 'rain'],
            2: ['sadtone', 'rain'],
            3: ['sadtone', 'rain'],
            4: ['s4'],
            5: ['s5'],
            6: ['sea'],
            7: ['sea', 's7'],
            8: ['sea', 's7'],
            9: ['sea','helicopter','s7'],
            10: ['s10'],
            11: ['drama'],
            12: ['gameover'],
            13: ['gameover'],
            14: ['drama'],
            17: ['s17'],
            18: ['s17'],
            19: ['s21','sea'],
            20: ['s20'],
            21: ['s21', 'sea'],
            22: ['helicopter'],
            23: ['s20','talk'],
            24: ['s25', 'explode'],
            25: ['s25', 'explode'],
            26: ['explode'],
            27: ['gameover', 'explode'],
            28: ['s25', 'explode'],
            29: ['s29', 'argue'],
            30: ['argue', 'bbibbi'],
            31: ['gameover', 'bbibbi'],
            32: ['s32', 's4'],
            33: ['gameover', 'bbibbi'],
            34: ['gameover'],
            35: ['s4'],//緊張聲音
            36: ['drama'], //出大事了！
            37: ['drama'], //悲傷感人的聲音
            38: ['s20', 'helicopter', 'drama'], 
            39: ['drama','gameover'],
            40: ['s29'],
            41: ['breakfast'],//終於解決了太陽出來的感覺
            42: ['s5'],
            43: ['breakfast'],
            44: ['breakfast'],
            45: ['breakfast'],
            46: ['gameover'],
            47: ['happy'],
            48: ['happy'],
            49: ['happy'],
            50: ['happy'],
            51: ['happy'],
            52: ['happy'],
            53: ['happy'],//suprise解鎖鈴聲
            54: ['sadtone'],
            55: ['sadtone'],
            56: ['sadtone'],
            57: ['s5'],
            59: ['s7', 's32'],//earthquake 人群尖叫
            60: [''],//same
            61: [''],//same
            62: [''],//大樓倒塌超大聲
            63: [''],
            65: ['gameover'],
            70:['sea'],
            71:['sea'],
            72:['happy'],
        };
        let previousSoundElement = null;
        let currentPlayingSounds = [];
        // 音效相關代碼
        function stopAllSounds() {
            Object.values(sceneToSoundId).forEach(soundIds => {
                soundIds.forEach(soundId => {
                    const soundElement = document.getElementById(soundId);
                    if (soundElement) {
                        soundElement.pause();
                        soundElement.currentTime = 0; // 重置音效到開始位置
                    }
                });
            });
        }
        //顯示場景
        function showScene() {
            resetTimer();
            const scene = scenes[currentScene];
            const storyElement = document.getElementById('story');
            const storyContainer = document.getElementById('storyContainer');
            const unlockBtn = document.getElementById('unlockBtn');
            const bodyElement = document.body;
            bodyElement.style.backgroundImage = `url('${backgroundURLs[currentScene]}')`;
            const text = storyElement.textContent = scene.story;
            // 各按鈕元素
            const homeBtn = document.getElementById('homeBtn');
            const skipBtn = document.getElementById('skipBtn');
            const skipBtn2 = document.getElementById('skipBtn2');
            const hintBtn = document.getElementById('hintBtn');
            const optionBtn1 = document.getElementById('optionBtn1');
            const optionBtn2 = document.getElementById('optionBtn2');
            const nextBtn = document.getElementById('nextBtn');
            unlockBtn.style.display = "none";
            nextBtn.style.display = "none";
            optionBtn1.style.display = "none";
            optionBtn2.style.display = "none";
            timerElement.style.display = "none";
            hintBtn.style.display = "none";
            homeBtn.style.display = "none";
            skipBtn.style.display = "none";
            skipBtn2.style.display = "none";
            //打字機代碼
            let speed = 100;
            let index = 0;
            storyElement.textContent = '';
            function textInput() {
                if (index < text.length) {
                    storyElement.append(text.charAt(index));
                    index++;
                    setTimeout(textInput, speed);
                } else {
                    afterTextComplete();
                }
            }
            function afterTextComplete() {
                console.log("所有文字都已輸出完畢！");
                if (scene.hasOptions) {
                    startTimer();
                    if (hintCount > 0) {
                        hintBtn.textContent = `提示：${hintCount}次`;
                    }
                    nextBtn.style.display = "none"; // 先隱藏 nextBtn
                    optionBtn1.textContent = scene.option1Text;
                    optionBtn2.textContent = scene.option2Text;
                    optionBtn1.style.display = "block";
                    optionBtn2.style.display = "block";
                    timerElement.style.display = "block";
                    hintBtn.style.display = "block";
                } else {
                    if (currentScene === 46) { //時間到畫面不顯示下一頁按鍵
                        alert("時間到！遊戲結束!");
                        nextBtn.style.display = "none";
                    } else {
                        nextBtn.style.display = "block";
                        optionBtn1.style.display = "none";
                        optionBtn2.style.display = "none";
                        timerElement.style.display = "none";
                        hintBtn.style.display = "none";
                    }
                }
            }
            textInput();

            if (currentScene >= 47 && currentScene <= 51) {
                story.style.display = 'none'; // 隱藏 story
                const storyContainer = document.getElementById('storyContainer');
                storyContainer.style.display = 'none'; // 隱藏 storyContainer
                nextBtn.style.display = "none";
                const h1Element = document.querySelector('h1');
                h1Element.style.display = 'none';
                skipBtn.style.display = 'block';
                homeBtn.style.display = 'none';
                // 判断是否是场景 51
                if (currentScene === 51) {
                    // 修改 openSurveyBtn 的样式，以及添加跳转到场景 52 的功能
                    const saveImageBtn = document.getElementById('saveImageBtn');
                    saveImageBtn.style.display = 'block';
                    const openSurveyBtn1 = document.getElementById('openSurveyBtn1');
                    openSurveyBtn1.style.display = 'block';
                    // 保存背景圖片到本地相冊
                    saveImageBtn.addEventListener('click', () => {
                        const backgroundImageUrl = backgroundURLs[currentScene];
                        saveImageToAlbum(backgroundImageUrl);
                    });
                    // 点击 openSurveyBtn1 跳转到场景 52
                    openSurveyBtn1.addEventListener('click', () => {
                        const surveyLink1 = 'https://www.surveycake.com/s/pkWbV';
                        window.open(surveyLink1, '_blank');
                        currentScene = 52;
                        showScene();
                        story.style.display = 'none'; // 隱藏 story
                        storyContainer.style.display = 'none'; // 隱藏 storyContainer
                        openSurveyBtn1.style.display = 'none';
                    });
                } else {
                    // 非场景 51，隐藏原来的 openSurveyBtn
                    const openSurveyBtn = document.getElementById('openSurveyBtn');
                    saveImageBtn.style.display = 'block';
                    openSurveyBtn.style.display = 'block';
                    // 保存背景圖片到本地相冊
                    saveImageBtn.addEventListener('click', () => {
                        const backgroundImageUrl = backgroundURLs[currentScene];
                        saveImageToAlbum(backgroundImageUrl);
                    });
                    // 打開問卷連結
                    openSurveyBtn.addEventListener('click', () => {
                        const surveyLink = 'https://www.surveycake.com/s/pkWbV';
                        window.open(surveyLink, '_blank');
                    });
                }
            } else {
                story.style.display = 'block'; // 顯示 story
                storyContainer.style.display = 'block'; // 顯示 storyContainer
                skipBtn.style.display = 'none';
                homeBtn.style.display = 'block';
                saveImageBtn.style.display = 'none';
                openSurveyBtn.style.display = 'none';
            }
            if (currentScene === 53) {
                nextBtn.style.display = "none";
                storyContainer.style.display = 'none'; // 隱藏 storyContainer
                story.style.display = 'none'; // 隱藏 story
                unlockBtn.style.display = 'block';
            }
            if (currentScene === 69) {
                story.style.display = 'none'; // 隱藏 story
                storyContainer.style.display = 'none'; // 隱藏 storyContainer
                nextBtn.style.display = "none";
                homeBtn.style.display = "none";
                skipBtn.style.display = "none";
                skipBtn2.style.display = "block";
                saveImageBtn.style.display = 'block';
                openSurveyBtn.style.display = 'block';
                // 保存背景圖片到本地相冊
                saveImageBtn.addEventListener('click', () => {
                    const backgroundImageUrl = backgroundURLs[currentScene];
                    saveImageToAlbum(backgroundImageUrl);
                });
                // 打開問卷連結
                openSurveyBtn.addEventListener('click', () => {
                    const surveyLink = 'https://www.surveycake.com/s/pkWbV';
                    window.open(surveyLink, '_blank');
                });
            };
            if (currentScene === 70 || currentScene === 71) {
                story.style.display = 'none'; // 隱藏 story
                storyContainer.style.display = 'none'; // 隱藏 storyContainer
            };
            if (currentScene === 72) {
                story.style.display = 'none'; // 隱藏 story
                storyContainer.style.display = 'none'; // 隱藏 storyContainer
                nextBtn.style.display = "none";
                homeBtn.style.display = "none";
                skipBtn.style.display = "none";
                skipBtn2.style.display = "block";
                saveImageBtn.style.display = 'block';
                openSurveyBtn.style.display = 'block';
                // 保存背景圖片到本地相冊
                saveImageBtn.addEventListener('click', () => {
                    const backgroundImageUrl = backgroundURLs[currentScene];
                    saveImageToAlbum(backgroundImageUrl);
                });
                // 打開問卷連結
                openSurveyBtn.addEventListener('click', () => {
                    const surveyLink = 'https://www.surveycake.com/s/pkWbV';
                    window.open(surveyLink, '_blank');
                });
            };

            //音效相關代碼
            const soundIds = sceneToSoundId[currentScene];
            if (soundIds) {
                console.log(`Playing sounds: ${soundIds.join(', ')}`);
                // 停止之前播放的不再需要的音效
                const soundsToStop = currentPlayingSounds.filter(soundId => !soundIds.includes(soundId));
                soundsToStop.forEach(soundId => {
                    const soundElement = document.getElementById(soundId);
                    if (soundElement) {
                        soundElement.pause();
                        soundElement.currentTime = 0;
                        const soundIndex = currentPlayingSounds.indexOf(soundId);
                        if (soundIndex > -1) {
                            currentPlayingSounds.splice(soundIndex, 1);
                        }
                    }
                });
                // 播放新的音效，將其添加到 currentPlayingSounds 中
                soundIds.forEach(soundId => {
                    const soundElement = document.getElementById(soundId);
                    if (soundElement && !currentPlayingSounds.includes(soundId)) {
                        soundElement.play();
                        currentPlayingSounds.push(soundId);
                    }
                });
            } else {
                console.log("No sound IDs found for the scene.");
                // 停止所有的共通音效，但保留其他音效
                const commonSoundsToStop = currentPlayingSounds.filter(soundId => {
                    return sceneToSoundId[currentScene - 1] && sceneToSoundId[currentScene - 1].includes(soundId);
                });
                commonSoundsToStop.forEach(soundId => {
                    const soundElement = document.getElementById(soundId);
                    if (soundElement) {
                        soundElement.pause();
                        soundElement.currentTime = 0;
                        const soundIndex = currentPlayingSounds.indexOf(soundId);
                        if (soundIndex > -1) {
                            currentPlayingSounds.splice(soundIndex, 1);
                        }
                    }
                });
            }
            // 背景影片相關代碼
            const backgroundVideos = [
                's5video', 's7video', 's9video', 's10video', 's13video', 's15video',
                's16video', 's17video', 's19video', 's22video', 's27video',
                's35video', 's37video', 's41video', 's43video', 's58video',
                's62video', 's67video'
            ];
            // 隱藏所有背景影片
            backgroundVideos.forEach(videoId => {
                const videoElement = document.getElementById(videoId);
                if (videoElement) {
                    videoElement.style.display = 'none';
                }
            });
            // 顯示目前場景的背景影片
            const currentVideoElement = document.getElementById(`s${currentScene}video`);
            if (currentVideoElement) {
                currentVideoElement.style.display = 'block';
            }
        }

        // 開始遊戲按鈕的點擊事件
        document.getElementById('startBtn').addEventListener('click', () => {
            startTimer(); // 啟動計時器
            const startScreen = document.querySelector('.start-screen');
            const gameContent = document.querySelector('.game-content');
            const h1Element = document.querySelector('h1');
            h1Element.style.display = 'block';
            startScreen.style.display = "none";
            gameContent.style.display = "block";
            storyContainer.style.display = 'none';
            nextBtn.style.display = "block"
            currentScene = 70;// 重置為場景70
            showScene();
            homeBtn.style.display = "block";
        });
        // startBtn1 開始遊戲按鈕的點擊事件
        document.getElementById('startBtn1').addEventListener('click', () => {
            const confirmStart = confirm("是否略過前面劇情，跳到第一個選擇的場景？");
            const startscreen1 = document.querySelector('.start-screen1');
            const gameContent = document.querySelector('.game-content');
            const h1Element = document.querySelector('h1');
            h1Element.style.display = 'block'; // 顯示 h1 元素
            startscreen1.style.display = "none";
            gameContent.style.display = "block";
            hintBtn.style.display = "block"; // 顯示提示按鈕
            if (confirmStart) {
                currentScene = 7; // 重置為場景7
            } else {
                currentScene = 0; // 重置為場景0
            }

            // 顯示 HOME 鍵
            const homeBtn = document.getElementById('homeBtn');
            homeBtn.style.display = "block";

            // 啟動計時器
            startTimer();

            // 顯示對應的場景
            showScene();
        });
        // startBtn2 開始遊戲按鈕的點擊事件
        document.getElementById('startBtn2').addEventListener('click', () => {
            const confirmStart = confirm("是否略過老翁故事劇情，直接從消防員劇情開始遊戲？");
            const startscreen2 = document.querySelector('.start-screen2');
            const gameContent = document.querySelector('.game-content');
            const h1Element = document.querySelector('h1');
            h1Element.style.display = 'block'; // 顯示 h1 元素
            startscreen2.style.display = "none";
            gameContent.style.display = "block";
            hintBtn.style.display = "block"; // 顯示提示按鈕
            if (confirmStart) {
                currentScene = 54; // 重置為場景54
            } else {
                currentScene = 0; // 重置為場景0
            }
            // 顯示 HOME 鍵
            const homeBtn = document.getElementById('homeBtn');
            homeBtn.style.display = "block";
            // 啟動計時器
            startTimer();
            // 顯示對應的場景
            showScene();
        });
        // 下一頁按鈕的點擊事件
        document.getElementById('nextBtn').addEventListener('click', () => {
            clearInterval(timerId);
            // 檢查是否超時
            if (countdownSeconds <= 0) {
                handleTimeout();
            } else {
                const nextSceneIndex = scenes[currentScene].nextScene;
                currentScene = nextSceneIndex;
                showScene();
                // 在延遲一小段時間後顯示 alert
                setTimeout(() => {
                    if (currentScene === 13) {
                        alert("老翁因被物體擦撞，漸漸昏厥死亡");
                    };
                    if (currentScene === 27) {
                        s27video.style.display = "block";
                        alert("妻子在推擠中跌倒，慘遭踩踏身亡");
                    };
                    if (currentScene === 31) {
                        alert("爭吵耽誤了逃生，核輻射影響而死去");
                    };
                    if (currentScene === 34) {
                        alert("夫妻受到核輻射影響，逐漸死亡");
                    };
                    if (currentScene === 39) {
                        alert("30年後，妻子拿起了話筒，對我訴說著思念");
                    };
                    if (currentScene === 46) {
                        alert("恭喜你！成功拯救妻子！");
                    };
                    if (currentScene === 65) {
                        alert("因為沒有及時通報狀況，導致支援晚了一步，讓無辜的受害著不幸喪命");
                    };
                    if (currentScene === 69) {
                        alert("恭喜你！成功拯救了小女孩！");
                    };
                }, 8000); // 这里的延迟时间可以根据需要进行调整
            }
        });
        // 選項按鈕的點擊事件
        document.getElementById('optionBtn1').addEventListener('click', () => {
            const nextSceneIndex = scenes[currentScene].option1NextScene;
            currentScene = nextSceneIndex;
            showScene();
        });
        document.getElementById('optionBtn2').addEventListener('click', () => {
            const nextSceneIndex = scenes[currentScene].option2NextScene;
            currentScene = nextSceneIndex;
            showScene();
        });
        // HOME 鍵的點擊事件
        document.getElementById('homeBtn').addEventListener('click', () => {
            const confirmReturn = confirm("是否結束遊戲回到開始畫面？");
            if (confirmReturn) {
                stopAllSounds();
                resetTimer();
                sea.play();
                // 顯示開始畫面
                const startscreen = document.querySelector('.start-screen');
                startscreen.style.display = 'block';
                // 不顯示 h1 標題
                const h1Element = document.querySelector('h1');
                h1Element.style.display = 'none';
                saveImageBtn.style.display = 'none';
                openSurveyBtn.style.display = 'none';
                skipBtn.style.display = 'none';
                skipBtn2.style.display = 'none';
                nextBtn.style.display = 'none';
                optionBtn1.style.display = 'none';
                optionBtn2.style.display = 'none';
                timerElement.style.display = 'none';
                hintBtn.style.display = 'none';
                s5video.style.display = 'none';
                s7video.style.display = 'none';
                s9video.style.display = 'none';
                s10video.style.display = 'none';
                s13video.style.display = 'none';
                s15video.style.display = 'none';
                s16video.style.display = 'none';
                s17video.style.display = 'none';
                s19video.style.display = 'none';
                s22video.style.display = 'none';
                s27video.style.display = 'none';
                s35video.style.display = 'none';
                s37video.style.display = 'none';
                s41video.style.display = 'none';
                s43video.style.display = 'none';
                s58video.style.display = 'none';
                s62video.style.display = 'none';
                s67video.style.display = 'none';
                // 重置背景圖像和計時器
                const gameContent = document.querySelector('.game-content');
                gameContent.style.display = "none";
                // 重置提示次數
                hintCount = 3;
                updateHintCounter();
            } else {
                startTimer();
            }
        })
        // home鍵-skip按鈕的點擊事件
        document.getElementById('skipBtn').addEventListener('click', () => {
            clearInterval(timerId);
            // 顯示提示框
            const confirmReturn = confirm("是否結束遊戲回到開始畫面？");
            if (confirmReturn) {
                resetTimer();
                stopAllSounds();
                openSurveyBtn1.style.display = 'none';
                sea.play();
                //顯示開始畫面
                const startscreen1 = document.querySelector('.start-screen1');
                startscreen1.style.display = 'block';
                // 需要隐藏的元素的 id 列表
                const elementsToHide = [
                    'h1Element',
                    'saveImageBtn',
                    'openSurveyBtn',
                    'skipBtn',
                    'nextBtn',
                    'optionBtn1',
                    'optionBtn2',
                    'timerElement',
                    'hintBtn',
                    'gameContent'
                ];
                // 循环隐藏每个元素
                elementsToHide.forEach(elementId => {
                    const element = document.getElementById(elementId);
                    if (element) {
                        element.style.display = 'none';
                    }
                });
                hintCount = 3; // 重新計算提示次數
                updateHintCounter(); // 更新提示按鈕文字
            } else {
                startTimer();
            }
        });
        // home鍵-skip2按鈕的點擊事件
        document.getElementById('skipBtn2').addEventListener('click', () => {
            clearInterval(timerId);
            // 顯示提示框
            const confirmReturn = confirm("是否結束遊戲回到開始畫面？");
            if (confirmReturn) {
                resetTimer();
                stopAllSounds();
                openSurveyBtn.style.display = 'none';
                sea.play();
                //顯示開始畫面
                const startscreen2 = document.querySelector('.start-screen2');
                startscreen2.style.display = 'block';
                // 需要隐藏的元素的 id 列表
                const elementsToHide = [
                    'h1Element',
                    'saveImageBtn',
                    'openSurveyBtn',
                    'skipBtn',
                    'skipBtn2',
                    'nextBtn',
                    'optionBtn1',
                    'optionBtn2',
                    'timerElement',
                    'hintBtn',
                    'gameContent'
                ];
                // 循环隐藏每个元素
                elementsToHide.forEach(elementId => {
                    const element = document.getElementById(elementId);
                    if (element) {
                        element.style.display = 'none';
                    }
                });
                hintCount = 3; // 重新計算提示次數
                updateHintCounter(); // 更新提示按鈕文字
            } else {
                startTimer();
            }
        });

        // 提示按鈕的點擊事件
        hintBtn.addEventListener('click', () => {
            const currentSceneData = scenes[currentScene];
            // 檢查是否有剩餘提示次數且場景有提示
            if (hintCount > 0 && currentSceneData.hasHint) {
                const currentHint = currentSceneData.hint;
                // 顯示提示框
                alert(currentHint);
                hintCount--; // 提示次數 -1
                // 更新提示按鈕文字，顯示剩餘次數
                hintBtn.textContent = `提示：${hintCount}次`;
                resetTimer();
            } else {
                if (hintCount === 0) {
                    // 提示次數已用完，顯示訊息
                    alert("你已經用完了所有的提示次數。");
                }
            }
            // 更新提示次數顯示
            updateHintCounter();
        });
        // 解鎖新角色按鈕的點擊事件
        document.getElementById('unlockBtn').addEventListener('click', () => {
            currentScene = 54;
            showScene();
            unlockBtn.style.display = 'none';
        });
        // 更新提示次數顯示
        function updateHintCounter() {
            const hintCounterElement = document.getElementById('hintCounter');
            hintCounterElement.textContent = hintCounter;
        }
    </script>
</body>

</html>
